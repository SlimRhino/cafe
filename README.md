Наше приложение будет состоять из нескольких разделов, которые в теории должны быть независимы друг от друга.
Для улучшения гибкости, поддержки и чистоты кода каждый модуль в идеале самодостаточен.

И так:

- У нас есть товар(`product`), который мы реализуем. соответственно мы должны добавлять его в базу и списывать отуда, а так же учитывть движение товара. Значит нужен склад(`store`)
- Должны быть заказы(`order`) - читай товарные чеки с калькуляцией заказа
- База постоянных клиентов(`client`), с какой-нибудь скидочной системой, к примеру бонусная-накопительная
- И все это должно быть взаимосвязано

Для БД выберем `MongoDB` - как популярную `NoSQL` базу данных, для нашей реализации важна гибкость и возможность изменений схемы документов, `SQL` рассматривать пока не будем, может потом, или в виде домашнего задания. А пока постораемся инкапулировать реализацию работы с БД, так чтобы не сильно сложно было поменять саму бд при необходимости.
К тому же дабы не заострять внимание на настройку и работу с развертыванием самой БД воспользуемся сервисом [mLab](https://mlab.com/), где бесплатных 500мб нам будет более чем.
Языком у нас, конечно, будет `GO`, вид сервиса `REST API`. в роли фронта я буду использовать [postman](https://www.getpostman.com/)
Поехали!

#### Настройка БД

И так регистрируемся в [mLab](https://mlab.com/), жмем `Create new`, выбираем понравившееся облако и тариф `SandBox`.
Далее нужно будет придумаь имя для базы, я назвал `sweet-cafe` и подождать пока база создастся (минут 5).
Теперь в таблице `MongoDB Deployments` будет наша база - жмем на нее и переходим на вкладку `users` нажимаем `Add databese user`. Тут все просто вводим имя пользователя, например, `admin` и пароль. чуть выше будет информационный блок где будет указана строка подключения к БД вида `mongodb://<dbuser>:<dbpassword>@ds143242.mlab.com:43242/sweet-cafe`. Пока осатвим вкладку открытой и перейдем к коду.
В нашем проекте создадим каталог `database` и в нем одноименный файл `database.go`.  
{{< highlight Go >}}
package database

import (
"log"

    "github.com/globalsign/mgo"

)
{{< /highlight >}}
Мы объявляем пакет `database` в который импортируем стандартный пакет `log` для записей логов в консоль и `github.com/globalsign/mgo` - драйвер mongo базы, перед импортом нужно установить этот пакет сначала в `GOPATH` сделав в консоле `go get github.com/globalsign/mgo` (думаю всем и так это известно, поэтому заострять внимание на таких вещях более не будем)
И так нам нужна функция подключения к БД, а так же глобальная переменная-указатель, через которую мы будем далее делать запросы к базе.
{{< highlight Go >}}
//DB Ссылка для подключения к базе данных MongoDB
var DB \*mgo.Database

func Connect(server string, dbName string) {
session, err := mgo.Dial(server)
if err != nil {
log.Fatal(err)
}
DB = session.DB(dbName)
log.Println("connect to database", DB.Name, "succssesed")
}
{{< /highlight >}}

Тут мы вызываем стандартную функкцию `Dial`, которой передаем строку подключения к серверу и, в случае успеха, инициализируем наш глобальный указатель адресом сессии с нашей бд, указывая ее по имени, пишем в лог успешный старт.
